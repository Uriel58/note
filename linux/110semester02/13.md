## grep

> 參考網頁: [﹝Linux﹞grep 指令用法教學及範例 | 工程師的江湖 - 點部落 (dotblogs.com.tw)](https://dotblogs.com.tw/xerion30476/2021/05/21/Linux)

#### grep參數

* `-i`: 搜索不分大小寫
* `-n`: 標示行號
* `-v`: 反向匹配，把匹配到的資料排除
* `-r`: 遞迴搜尋檔案，通常用在搜尋資料夾



#### 正規表達式規則

 *   `*` 代表任意字符(0到多個)
 *   `？`代表一個字符
 *   `[ ] ` 中間為字符組合，僅匹配其中任一一個字符
* `^`: 表示比對最前面的字元: `^a` 
* `$`: 表示比對最後面的字元: `b$`



#### Linux指令

`grep 127 /etc/hosts`: 在 `/etc/hosts` 檔案中尋找 127 關鍵字

`grep -n net`

`cat httpd.conf | grep -v "^$" | grep -v "^#"`: 使用正規表達式抓取內容



## vim

* 進入插入模式

  * i : 在當前字符的左邊插入

  * o : 在當前行下面插入一個新行

  * s : 刪除光標所在的字符

  * S : 刪除光標所在的行

  * c + 光標移動命令:

    * cw : 刪除光標所在的後一單詞

    * cb : 刪除光標所在的前一單詞 

  

* 光標移動命令(為了不要讓手離開主鍵盤區)

  * h : 向前移動一個字符
  * j : 向下移動一行
  * k : 向上移動一行
  * l : 向後移動一個字符
  * b : 移動到當前單詞的開始
  * e : 移動到單前單詞的結尾
  * w : 移動到下一個單詞
  * 0 : 光標移動到行首
  * $ : 光標移動到行末
  * G : 光標移動到文件結尾
  * gg : 光標移動到文件開頭



* 複製貼上命令

  * yy : 複製當前一行 (yy和dd前面可以加上數字，表示複製下面的行數(這行到下面內容))
  * dd : 剪切當前一行
  * p : 貼上內容到光標之後
  * P : 貼上內容到光標之前

  

* x : 刪除光標所在字符

* r : 修改光標所在字符，r後接者要修正的字符

* R : 進入取代狀態，新增資料會覆蓋原先資料(一直向後覆蓋)，直到按ESC回到指令模式下為止

* u : 撤銷操作  (作用與windows ctrl + z 相同)

* ctrl-r : 反撤銷  (ctrl + shift + z)



#### Vi 底行命令

* :w  : 保存
* :w filename  : 存入文件filename中
* :w! filename  : 強制性存入文件filename中
* :q  : 退出 (只要有動過，就不可以用q)
* :q!  : 強行退出(不保存)
* :set nu  : 顯示行號
* /word  : 查找內容，讓光標跳到word上，使用n可以跳轉到符合的word
* : %s/hello/nihao/g  : 將所有的hello替換為nihao
* : 5, 8s/hello/nohao/g  : 將5-8行的hello替換為nihao



## 設備目錄

使用`ls -l`可以看到檔案的詳細資訊，最左邊如果是顯示b或是c，就代表他是硬體設備，b代表區塊類(Block)的設備，例如印碟或光碟機...，c代表字元類(Character)的設備，例如終端機、磁帶、印表機...



有關硬體的東西都會放在 `/dev` 資料夾下面

硬碟排序規則: sda、sdb、sdc.....sdz、sdaa、sdab...... 以此類推

光碟: sr0、sr1.....



#### mount

單輸入`mount`，系統會告訴你目前有掛載的東西在哪個資料夾下面 (`mount | grep "Centos"`)

輸入`unmount`，可以卸載裡面的東西

這個可以把光碟(CDROM)機掛載到指定目錄底下(意思就是在指定目錄下面讀取檔案，就跟讀取光碟一樣)

```
mount | grep "Ubuntu"
umount "/run/media/user/Ubuntu 20.04.3 LTS amd64"
mkdir mydata
lsblk
mount -t iso9660 /dev/sr0 ./mydata  ## 把光碟掛載到mydata
```





#### Linux指令

* `lsblk`: 這個指令可以看到CDROM、硬碟、和一些硬體設備

* `ls -l /proc/self/fd`: 可以查看目前使用的是哪個終端，和終端信息，終端在`/dev`資料夾下哪個位置，裡面也可以得知，0(標準輸入)、1(標準輸出)、2(錯誤輸出)，分別運作在哪裡

  